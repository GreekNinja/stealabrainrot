<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steal a Brainrot Wiki & Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- General & Custom Roblox Block Theme --- */
        body {
            font-family: 'Source Sans Pro', sans-serif;
            background-color: #238942; /* Roblox Green */
            background-image:
                radial-gradient(rgba(255, 255, 255, 0.15) 15%, transparent 16%),
                radial-gradient(rgba(255, 255, 255, 0.15) 15%, transparent 16%);
            background-size: 32px 32px;
            background-position: 0 0, 16px 16px;
        }
        html {
            scroll-behavior: smooth;
        }
        .main-header {
            color: #1e40af; /* blue-800 */
            text-shadow: 1px 1px #a5f3fc; /* cyan-200 */
        }

        /* --- Panel & Card Styling --- */
        .roblox-panel {
            background-color: white;
            border: 3px solid #4b5563; /* gray-600 */
            border-bottom-width: 6px;
            border-right-width: 6px;
            border-radius: 0.25rem; /* rounded-sm */
            padding: 2rem;
            box-shadow: none;
        }

        .brainrot-card {
            background-color: #f9fafb; /* gray-50 */
            border: 2px solid #6b7280; /* gray-500 */
            border-bottom-width: 5px;
            border-right-width: 5px;
            border-radius: 0.25rem;
            transition: transform 0.15s ease-out;
        }
        .brainrot-card:hover {
            transform: translateY(-4px) translateX(-2px);
            border-color: #1f2937; /* gray-800 */
        }
        .brainrot-card.owned {
            opacity: 0.8;
            background-color: #ecfdf5; /* emerald-50 */
            border-color: #10b981; /* emerald-500 */
        }
        .pixel-art-img {
            image-rendering: pixelated;
        }

        /* --- Sidebar Styling --- */
        .sidebar {
            background-color: #dc2626; /* red-600 */
            border-right: 3px solid #991b1b; /* red-800 */
            color: white;
        }
        .sidebar h1 {
            color: white;
            text-shadow: 2px 2px #991b1b;
        }
        .sidebar-link {
            border-radius: 0.25rem;
            transition: all 0.2s ease;
            font-weight: 600;
            color: white;
        }
        .sidebar-link:hover {
            background-color: #ef4444; /* red-500 */
        }
        .sidebar-link.active {
            background-color: #f9fafb;
            color: #dc2626; /* red-600 */
            font-weight: 700;
            border: 3px solid #991b1b;
            border-bottom-width: 5px;
            border-right-width: 5px;
        }

        /* --- Filter Buttons & Inputs Styling --- */
        .filter-btn {
            border-radius: 0.25rem;
            font-weight: 600;
            background-color: white;
            color: #4b5563;
            border: 2px solid #6b7280;
            border-bottom-width: 4px;
            transition: all 0.1s ease-in-out;
        }
        .filter-btn:hover {
            background-color: #f3f4f6;
        }
        .filter-btn.active {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            border-color: #1d4ed8; /* blue-700 */
            transform: translateY(2px);
            border-bottom-width: 2px;
        }

        #search-input {
            border-width: 2px;
            border-radius: 0.25rem;
            border-color: #9ca3af;
        }
        #search-input:focus {
            border-color: #3b82f6;
            box-shadow: none;
            outline: none;
        }
        
        /* --- Checkbox Styling --- */
        .brainrot-checkbox {
            cursor: pointer;
            transform: scale(1.4);
            border-radius: 4px;
            border-color: #6b7280;
        }
        .brainrot-checkbox:checked {
            background-color: #3b82f6;
            border-color: #1d4ed8;
        }
    </style>
</head>
<body class="text-gray-900">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar Navigation -->
        <aside class="sidebar w-full md:w-64 p-6 md:sticky md:top-0 md:h-screen overflow-y-auto">
            <h1 class="text-3xl font-bold mb-6">S.A.B. Wiki</h1>
            <nav>
                <ul class="space-y-2" id="sidebar-nav">
                    <li><a href="#about" class="sidebar-link block px-4 py-2">About the Game</a></li>
                    <li><a href="#brainrots" class="sidebar-link block px-4 py-2">Brainrots</a></li>
                    <li><a href="#strategies" class="sidebar-link block px-4 py-2">Strategies</a></li>
                    <li><a href="#crafting" class="sidebar-link block px-4 py-2">Crafting</a></li>
                    <li><a href="#removed" class="sidebar-link block px-4 py-2">Removed</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-10">
            <div class="max-w-5xl mx-auto">

                <!-- About the Game Section -->
                <section id="about" class="mb-12 scroll-mt-20">
                    <div class="roblox-panel">
                        <h2 class="main-header text-4xl font-bold mb-4 border-b pb-2">About Steal a Brainrot</h2>
                        <p class="text-md leading-relaxed text-gray-700 mb-4">
                           Steal a Brainrot has a myriad of Italian brainrot characters across various rarities that determine the amount of money you can generate every second. Now, you must be very strategic while playing this game, as you need to choose what brainrot to purchase. Steal a Brainrot also applies select traits and mutations to brainrots to boost your money-making power.
                        </p>
                        <p class="text-md leading-relaxed text-gray-700">
                           Currently, Steal a Brainrot has 8 rarities of brainrots: Common, Rare, Epic, Legendary, Mythic, Brainrot God, Secret, and OG. There are a total of 150+ brainrots in Steal a Brainrot across these seven rarities, along with four mutation variants: Gold, Diamond, Rainbow, and Galaxy. Buying the best and rarest brainrots takes time, so you’ll have to start with common characters like Noobini Pizzanini. You will have to gradually work up the ladder to finally be able to buy the Secret brainrots like Nuclearo Dinossauro and Strawberry Elephant.
                        </p>
                    </div>
                </section>

                <!-- Brainrots Section -->
                <section id="brainrots" class="mb-12 scroll-mt-20">
                    <div class="roblox-panel">
                        <h2 class="main-header text-4xl font-bold mb-4 border-b pb-2">Brainrot Checklist</h2>
                        
                        <!-- Filter and Progress Bar -->
                        <div class="mb-6 flex flex-col md:flex-row items-center justify-between gap-4 p-4 bg-gray-100 rounded-md">
                             <input type="text" id="search-input" placeholder="Search for a Brainrot..." class="w-full md:w-auto p-2 transition">
                            <div class="flex-shrink-0" id="progress-counter" class="font-semibold text-lg text-gray-800"></div>
                            <div class="flex items-center gap-2">
                                <button id="show-all-btn" class="filter-btn active px-4 py-2">All</button>
                                <button id="show-owned-btn" class="filter-btn px-4 py-2">Owned</button>
                                <button id="show-missing-btn" class="filter-btn px-4 py-2">Missing</button>
                            </div>
                        </div>
                        
                        <div id="brainrot-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- JS will populate this -->
                        </div>
                    </div>
                </section>
                
                <!-- Strategies Section -->
                <section id="strategies" class="mb-12 scroll-mt-20">
                    <div class="roblox-panel">
                        <h2 class="main-header text-4xl font-bold mb-4 border-b pb-2">Strategies & Tips</h2>
                        <p class="mt-4 text-gray-700 leading-relaxed">
                            New players should focus on Common Brainrots to learn the mechanics. Advanced players can try "Brainrot Chaining"—stealing multiple Brainrots in a single run for massive rewards, but with significantly increased risk.
                        </p>
                    </div>
                </section>

                <!-- Craft Machine Section -->
                <section id="crafting" class="mb-12 scroll-mt-20">
                    <div class="roblox-panel">
                        <h2 class="main-header text-4xl font-bold mb-4 border-b pb-2">Craft Machine Exclusives</h2>
                        <p class="mt-4 text-gray-700 leading-relaxed mb-4">
                            The following Brainrots can only be obtained through the Craft Machine.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Bandito Axolito (Epic)</li>
                            <li>La Karkerkar Combinasion (Secret)</li>
                            <li>Tralaledon (Secret)</li>
                            <li>Los Bros (Secret)</li>
                            <li>Los Noobinis (Mythic)</li>
                            <li>Las Capuchinas (Brainrot God)</li>
                            <li>Anpali Babel (Brainrot God)</li>
                            <li>Trenostruzzo Turbo 4000 (Brainrot God)</li>
                            <li>Antonio (Brainrot God)</li>
                            <li>Malamé Amaralé (Epic)</li>
                            <li>Tirilikalika Tirilikalako (Legendary)</li>
                            <li>Mangolini Parrocini (Epic)</li>
                            <li>Piccioneta Machina (Brainrot God)</li>
                            <li>Orcalarita Orcali (Brainrot God)</li>
                            <li>Las Sis (Secret)</li>
                        </ul>
                    </div>
                </section>

                <!-- Removed Section -->
                <section id="removed" class="mb-12 scroll-mt-20">
                    <div class="roblox-panel">
                        <h2 class="main-header text-4xl font-bold mb-4 border-b pb-2">Removed Brainrots</h2>
                        <p class="mt-4 text-gray-700 leading-relaxed mb-4">
                            These Brainrots are no longer obtainable in the game.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                           <li>Tung Tung Tung Sahur (Rare)</li>
                           <li>Stautino Libertino (Brainrot God)</li>
                           <li>Chimpanzini Spiderini (Secret)</li>
                           <li>Gattatino Neonino (Brainrot God)</li>
                        </ul>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <script>
        const brainrotData = [
            { name: "Noobini Pizzanini", rarity: "Common", price: "25", mps: "1" },
            { name: "Lirili Larila", rarity: "Common", price: "250", mps: "3" },
            { name: "Tim Cheese", rarity: "Common", price: "500", mps: "5" },
            { name: "FluriFlura", rarity: "Common", price: "750", mps: "7" },
            { name: "Talpa Di Fero", rarity: "Common", price: "1k", mps: "9" },
            { name: "Svinina Bombardino", rarity: "Common", price: "1.2k", mps: "10" },
            { name: "Pipi Kiwi", rarity: "Common", price: "1.5k", mps: "13" },
            { name: "Racooni Jandelini", rarity: "Common", price: "1.3k", mps: "12" },
            { name: "Pipi Corni", rarity: "Common", price: "1.7k", mps: "14" },
            { name: "Trippi Troppi", rarity: "Rare", price: "2k", mps: "15" },
            { name: "Gangster Footera", rarity: "Rare", price: "4k", mps: "30" },
            { name: "Bandito Bobritto", rarity: "Rare", price: "4.5k", mps: "35" },
            { name: "Boneca Ambalabu", rarity: "Rare", price: "5k", mps: "40" },
            { name: "Cacto Hipopotamo", rarity: "Rare", price: "6.5k", mps: "50" },
            { name: "Ta Ta Ta Ta Sahur", rarity: "Rare", price: "7.5k", mps: "55" },
            { name: "Tric Trac Baraboom", rarity: "Rare", price: "9k", mps: "65" },
            { name: "Pipi Avocado", rarity: "Rare", price: "9.5k", mps: "70" },
            { name: "Cappuccino Assassino", rarity: "Epic", price: "10k", mps: "75" },
            { name: "Brr Brr Patapim", rarity: "Epic", price: "15k", mps: "100" },
            { name: "Trulimero Trulicina", rarity: "Epic", price: "20k", mps: "125" },
            { name: "Bambini Crostini", rarity: "Epic", price: "22.5k", mps: "130" },
            { name: "Bananita Dolphinita", rarity: "Epic", price: "25k", mps: "150" },
            { name: "Perochello Lemonchello", rarity: "Epic", price: "27.5k", mps: "160" },
            { name: "Brri Brri Bicus Dicus Bombicus", rarity: "Epic", price: "30k", mps: "175" },
            { name: "Avocadini Guffo", rarity: "Epic", price: "35k", mps: "225" },
            { name: "Salamino Penguino", rarity: "Epic", price: "40k", mps: "250" },
            { name: "Ti Ti Ti Sahur", rarity: "Epic", price: "37.5k", mps: "225" },
            { name: "Penguino Cocosino", rarity: "Epic", price: "45k", mps: "300" },
            { name: "Burbaloni Loliloli", rarity: "Legendary", price: "35k", mps: "200" },
            { name: "Chimpazini Bananini", rarity: "Legendary", price: "50k", mps: "300" },
            { name: "Ballerina Cappuccina", rarity: "Legendary", price: "100k", mps: "500" },
            { name: "Chef Crabracadabra", rarity: "Legendary", price: "150k", mps: "600" },
            { name: "Lionel Cactuseli", rarity: "Legendary", price: "175k", mps: "650" },
            { name: "Glorbo Fruttodrillo", rarity: "Legendary", price: "200k", mps: "750" },
            { name: "Blueberrini Octopusini", rarity: "Legendary", price: "250k", mps: "1k" },
            { name: "Strawberelli Flamingelli", rarity: "Legendary", price: "275k", mps: "1.1k" },
            { name: "Pandaccini Bananini", rarity: "Legendary", price: "300k", mps: "1.2k" },
            { name: "Cocosini Mama", rarity: "Legendary", price: "285k", mps: "1.2k" },
            { name: "Sigma Boy", rarity: "Legendary", price: "325k", mps: "1.3k" },
            { name: "Pi Pi Watermelon", rarity: "Legendary", price: "135k", mps: "1.3k" },
            { name: "Frigo Camelo", rarity: "Mythic", price: "300k", mps: "1.4k" },
            { name: "Orangutini Ananassini", rarity: "Mythic", price: "400k", mps: "1.7k" },
            { name: "Rhino Toasterino", rarity: "Mythic", price: "450k", mps: "2.1k" },
            { name: "Bombardiro Crocodilo", rarity: "Mythic", price: "500k", mps: "2.5k" },
            { name: "Bombombini Gusini", rarity: "Mythic", price: "1M", mps: "5k" },
            { name: "Cavallo Virtuso", rarity: "Mythic", price: "2.5M", mps: "7.5k" },
            { name: "Gorillo Watermelondrillo", rarity: "Mythic", price: "3M", mps: "8k" },
            { name: "Avocadorilla", rarity: "Mythic", price: "2M", mps: "7.5k" },
            { name: "Tob Tobi Tobi", rarity: "Mythic", price: "3.5M", mps: "8.5k" },
            { name: "Ganganzelli Trulala", rarity: "Mythic", price: "4M", mps: "9k" },
            { name: "Te Te Te Sahur", rarity: "Mythic", price: "2.5M", mps: "9.5k" },
            { name: "Tracoducotulu Delapeladustuz", rarity: "Mythic", price: "3M", mps: "12k" },
            { name: "Lerulerulerule", rarity: "Mythic", price: "3.5M", mps: "8.7k" },
            { name: "Carloo", rarity: "Mythic Admin Lucky Block", price: "4.5M", mps: "13.5k" },
            { name: "Spioniro Golubiro", rarity: "Mythic Lucky", price: "750k", mps: "3.5k" },
            { name: "Zibra Zubra Zibralini", rarity: "Mythic Lucky", price: "1M", mps: "6k" },
            { name: "Tigrilini Watermelini", rarity: "Mythic Lucky", price: "1M", mps: "6.5k" },
            { name: "Coco Elefanto", rarity: "Brainrot God", price: "5M", mps: "10k" },
            { name: "Girafa Celestre", rarity: "Brainrot God", price: "7.5M", mps: "20k" },
            { name: "Gattatino Nyanino", rarity: "Brainrot God", price: "7.5M", mps: "35k" },
            { name: "Chihuanini Taconini", rarity: "Brainrot God", price: "8.5M", mps: "45k" },
            { name: "Matteo", rarity: "Brainrot God", price: "10M", mps: "50k" },
            { name: "Tralalero Tralala", rarity: "Brainrot God", price: "10M", mps: "50k" },
            { name: "Espresso Signora", rarity: "Brainrot God", price: "25M", mps: "70k" },
            { name: "Odin Din Din Dun", rarity: "Brainrot God", price: "15M", mps: "75k" },
            { name: "Statutino Libertino", rarity: "Brainrot God", price: "20M", mps: "75k" },
            { name: "Trenostruzzo Turbo 3000", rarity: "Brainrot God", price: "25M", mps: "150k" },
            { name: "Ballerino Lololo", rarity: "Brainrot God", price: "35M", mps: "200k" },
            { name: "Los Orcalitos", rarity: "Brainrot God", price: "45M", mps: "235k" },
            { name: "Tralalita Tralala", rarity: "Brainrot God", price: "20M", mps: "100k" },
            { name: "Urubini Flamenguini", rarity: "Brainrot God", price: "30M", mps: "150k" },
            { name: "Los Bombinitos", rarity: "Brainrot God", price: "42.5M", mps: "220k" },
            { name: "Trigoligre Frutonni", rarity: "Brainrot God Lucky", price: "15M", mps: "60k" },
            { name: "Orcalero Orcala", rarity: "Brainrot God Lucky", price: "15M", mps: "100k" },
            { name: "Bulbito Bandito Traktorito", rarity: "Brainrot God Lucky", price: "25M", mps: "205k" },
            { name: "Los Crocodillitos", rarity: "Brainrot God", price: "12.5M", mps: "55k" },
            { name: "Piccione Macchina", rarity: "Brainrot God", price: "40M", mps: "225k" },
            { name: "Trippi Troppi Troppa Trippa", rarity: "Brainrot God", price: "30M", mps: "175k" },
            { name: "Los Tungtungtungcitos", rarity: "Brainrot God", price: "37.5M", mps: "210k" },
            { name: "Tukanno Bananno", rarity: "Brainrot God", price: "22.5M", mps: "100k" },
            { name: "Alessio", rarity: "Brainrot God Admin Lucky Block", price: "17.5M", mps: "85k" },
            { name: "Tipi Topi Taco", rarity: "Brainrot God", price: "20M", mps: "75k" },
            { name: "Extinct Ballerina", rarity: "Brainrot God", price: "23.5M", mps: "125k" },
            { name: "Gattito Tacoto", rarity: "Brainrot God", price: "32.5M", mps: "160k" },
            { name: "Pakrahmatmamat", rarity: "Brainrot God", price: "37.5M", mps: "215k" },
            { name: "Tractoro Dinosauro", rarity: "Brainrot God", price: "42.5M", mps: "230k" },
            { name: "Los Tipi Tacos", rarity: "Brainrot God", price: "46M", mps: "260k" },
            { name: "Bombardini Tortinii", rarity: "Brainrot God Taco Tuesday", price: "50M", mps: "225k" },
            { name: "Las Sis", rarity: "Secret", price: "25M", mps: "17.5M" },
            { name: "La Vacca Staturno Saturnita", rarity: "Secret", price: "50M", mps: "250k" },
            { name: "Chimpanzini Spiderini", rarity: "Secret", price: "100M", mps: "325k" },
            { name: "Extinct Tralalero", rarity: "Secret", price: "125M", mps: "450k" },
            { name: "Extinct Matteo", rarity: "Secret", price: "140M", mps: "625k" },
            { name: "Los Tralaleritos", rarity: "Secret", price: "150M", mps: "500k" },
            { name: "La Karkerkar Combinasion", rarity: "Secret", price: "175M", mps: "700k" },
            { name: "Las Tralaleritas", rarity: "Secret", price: "150M", mps: "650k" },
            { name: "Job Job Job Sahur", rarity: "Secret", price: "175M", mps: "700k" },
            { name: "Los Spyderrinis", rarity: "Secret", price: "250M", mps: "450k" },
            { name: "Graipuss Medussi", rarity: "Secret", price: "250M", mps: "1M" },
            { name: "La Grande Combinasion", rarity: "Secret", price: "1B", mps: "10M" },
            { name: "Nuclearo Dinossauro", rarity: "Secret", price: "2.5B", mps: "15M" },
            { name: "La Extinct Grande", rarity: "Secret", price: "3.2B", mps: "23.5M" },
            { name: "Garama and Madundung", rarity: "Secret", price: "10B", mps: "50M" },
            { name: "Torrtuginni Dragonfruitini", rarity: "Secret Lucky", price: "500M", mps: "350k" },
            { name: "Pot Hotspot", rarity: "Secret Lucky", price: "500M", mps: "2.5M" },
            { name: "Las Vaquitas Saturnitas", rarity: "Secret", price: "160M", mps: "750K" },
            { name: "Chicleteira Bicicleteira", rarity: "Secret", price: "750M", mps: "3.5M" },
            { name: "Agarrini la Palini", rarity: "Secret", price: "80M", mps: "425k" },
            { name: "Dragon Cannelloni", rarity: "Secret", price: "100B", mps: "100M" },
            { name: "Los Combinasionas", rarity: "Secret", price: "2B", mps: "63.7M" },
            { name: "Karkerkar Kurkur", rarity: "Secret (admin)", price: "100M", mps: "2.4M" },
            { name: "Los Hotspotsitos", rarity: "Secret", price: "300M", mps: "20M" },
            { name: "La Sahur Combinasion", rarity: "Secret", price: "550M", mps: "2M" },
            { name: "Quesadilla Crocodila", rarity: "Secret", price: "700M", mps: "3M" },
            { name: "Esok Sekolah", rarity: "Secret Lucky", price: "750M", mps: "30M" },
            { name: "Los Matteos", rarity: "Secret", price: "100M", mps: "300k" },
            { name: "Dul Dul Dul", rarity: "Secret", price: "150M", mps: "375k" },
            { name: "Blackhole Goat", rarity: "Secret", price: "75M", mps: "400k" },
            { name: "Nooo My Hotspot", rarity: "Secret Taco Tuesday", price: "500M", mps: "1.5M" },
            { name: "Sammyini Spyderini", rarity: "Secret", price: "100M", mps: "325k" },
            { name: "Spaghetti Tualetti", rarity: "Secret", price: "750M", mps: "60M" },
            { name: "67", rarity: "Secret", price: "1.2B", mps: "7.5M" },
            { name: "Los Noo My Hotspotsitos", rarity: "Secret", price: "1B", mps: "5M" },
            { name: "Celularcini Viciosini", rarity: "Secret", price: "2.7B", mps: "22.5M" },
            { name: "Tralaledon", rarity: "Secret", price: "3B", mps: "27.5M" },
            { name: "La Supreme Combinasion", rarity: "Secret", price: "7B", mps: "40M" },
            { name: "Ketupat Kepat", rarity: "Secret", price: "5B", mps: "35M" },
            { name: "Ketchuru and Musturu", rarity: "Secret", price: "7.5B", mps: "42.5M" },
            { name: "Strawberry Elephant", rarity: "OG", price: "500B", mps: "250M" }
        ];

        const rarityColors = {
            "Common": "text-gray-600",
            "Rare": "text-blue-600",
            "Epic": "text-purple-600",
            "Legendary": "text-amber-600",
            "Mythic": "text-red-600",
            "Brainrot God": "text-teal-500",
            "Secret": "text-cyan-400",
            "OG": "text-pink-500",
            "Admin Lucky Block": "text-indigo-500",
            "Exclusive": "text-rose-500"
        };
        
        document.addEventListener('DOMContentLoaded', () => {
            const grid = document.getElementById('brainrot-grid');
            const progressCounter = document.getElementById('progress-counter');
            const filterButtons = document.querySelectorAll('.filter-btn');
            const searchInput = document.getElementById('search-input');

            // Add image placeholders automatically
            brainrotData.forEach(brainrot => {
                if (!brainrot.image) {
                    // Create a filename by keeping spaces.
                    // This is based on the naming convention from your examples.
                    // Example: "Bambini Crostini" becomes "images/Bambini Crostini.webp"
                    const imageName = brainrot.name;
                    const imagePath = `images/${imageName}.webp`;

                    // We use an onerror handler to hide the image container if the image fails to load,
                    // preventing broken image icons from cluttering the UI.
                    brainrot.image = `
                        <div class="bg-gray-200 rounded-sm mt-2 border-2 border-gray-300 p-2">
                            <img src='${imagePath}' 
                                 alt='${brainrot.name}' 
                                 class='pixel-art-img w-full h-auto object-cover'
                                 onerror="this.parentElement.style.display='none'">
                        </div>`;
                }
            });

            let ownedBrainrots = JSON.parse(localStorage.getItem('ownedBrainrots')) || [];

            function getCleanRarity(rarity) {
                if (rarity.includes('Mythic')) return 'Mythic';
                if (rarity.includes('Brainrot God')) return 'Brainrot God';
                if (rarity.includes('Secret')) return 'Secret';
                if (rarity.includes('Admin')) return 'Admin Lucky Block';
                return rarity;
            }

            function createCard(brainrot) {
                const card = document.createElement('div');
                card.className = 'brainrot-card p-4 relative flex flex-col';
                card.dataset.name = brainrot.name;

                const isOwned = ownedBrainrots.includes(brainrot.name);
                const cleanRarity = getCleanRarity(brainrot.rarity);
                const colorClass = rarityColors[cleanRarity] || 'text-gray-800';

                card.innerHTML = `
                    <div class="flex-grow">
                        <input type="checkbox" class="brainrot-checkbox absolute top-3 right-3 h-5 w-5" ${isOwned ? 'checked' : ''}>
                        <h3 class="text-xl font-semibold ${colorClass} pr-8">${brainrot.name}</h3>
                        <p class="text-sm text-gray-500 mb-2">${brainrot.rarity}</p>
                        ${brainrot.image ? `<div class="my-2">${brainrot.image}</div>` : ''}
                        ${brainrot.notes ? `<p class="text-xs text-gray-600 italic mt-1">${brainrot.notes}</p>` : ''}
                    </div>
                    <div class="mt-auto pt-2 border-t-2 border-gray-200">
                        <p class="text-sm text-gray-700"><span class="font-semibold">Buy Price:</span> ${brainrot.price}</p>
                        <p class="text-sm text-gray-700"><span class="font-semibold">MPS:</span> ${brainrot.mps}</p>
                    </div>
                `;

                if (isOwned) {
                    card.classList.add('owned');
                }

                const checkbox = card.querySelector('.brainrot-checkbox');
                checkbox.addEventListener('change', () => {
                    const name = card.dataset.name;
                    if (checkbox.checked) {
                        if (!ownedBrainrots.includes(name)) ownedBrainrots.push(name);
                    } else {
                        ownedBrainrots = ownedBrainrots.filter(b => b !== name);
                    }
                    card.classList.toggle('owned', checkbox.checked);
                    saveOwned();
                    updateCounter();
                    applyFilters(); 
                });

                return card;
            }

            function renderCards() {
                grid.innerHTML = '';
                brainrotData.forEach(b => grid.appendChild(createCard(b)));
                updateCounter();
                applyFilters();
            }

            function updateCounter() {
                progressCounter.textContent = `Collected: ${ownedBrainrots.length} / ${brainrotData.length}`;
            }

            function saveOwned() {
                localStorage.setItem('ownedBrainrots', JSON.stringify(ownedBrainrots));
            }
            
            function applyFilters() {
                const allCards = document.querySelectorAll('.brainrot-card');
                const activeFilterBtn = document.querySelector('.filter-btn.active');
                const filter = activeFilterBtn ? activeFilterBtn.dataset.filter : 'all';
                const searchTerm = searchInput.value.toLowerCase();

                allCards.forEach(card => {
                    const isOwned = card.classList.contains('owned');
                    const name = card.dataset.name.toLowerCase();

                    const matchesFilter = (filter === 'all') || (filter === 'owned' && isOwned) || (filter === 'missing' && !isOwned);
                    const matchesSearch = name.includes(searchTerm);

                    if (matchesFilter && matchesSearch) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            }
            
            filterButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active');
                    });
                    e.currentTarget.classList.add('active');
                    applyFilters();
                });
                if(button.id === 'show-all-btn') button.dataset.filter = 'all';
                if(button.id === 'show-owned-btn') button.dataset.filter = 'owned';
                if(button.id === 'show-missing-btn') button.dataset.filter = 'missing';
            });

            searchInput.addEventListener('input', applyFilters);

            // Initial Render
            renderCards();
        });


        // --- Sidebar scroll spy Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.sidebar-link');
            
            const observer = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                     if (entry.isIntersecting) {
                         const activeLink = document.querySelector(`.sidebar-link[href="#${entry.target.id}"]`);
                         navLinks.forEach(link => link.classList.remove('active'));
                         if(activeLink) {
                             activeLink.classList.add('active');
                         }
                     }
                 });
            }, { threshold: 0.5 }); 

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>

</body>
</html>

